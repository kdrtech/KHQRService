const a0_0x3167d9=a0_0xbe06;(function(_0x471ee7,_0x217ac2){const _0x38f523=a0_0xbe06,_0xe78716=_0x471ee7();while(!![]){try{const _0x24bf18=-parseInt(_0x38f523(0x121))/0x1*(-parseInt(_0x38f523(0x130))/0x2)+-parseInt(_0x38f523(0x159))/0x3*(-parseInt(_0x38f523(0x177))/0x4)+parseInt(_0x38f523(0x127))/0x5*(-parseInt(_0x38f523(0x166))/0x6)+-parseInt(_0x38f523(0x132))/0x7*(parseInt(_0x38f523(0x104))/0x8)+parseInt(_0x38f523(0x16e))/0x9+parseInt(_0x38f523(0x11c))/0xa+parseInt(_0x38f523(0x13e))/0xb;if(_0x24bf18===_0x217ac2)break;else _0xe78716['push'](_0xe78716['shift']());}catch(_0xa4fe42){_0xe78716['push'](_0xe78716['shift']());}}}(a0_0x87cc,0xc5e0a));const baseApi={'apiUrl':'https://api-bakong.nbc.gov.kh','apiVersion':'/v1/'},pathApi={'renewToken':'renew_token','generatDeeplink':'generate_deeplink_by_qr','checkTransactionStatusByMd5':a0_0x3167d9(0x140),'checkBakongAccount':a0_0x3167d9(0xf4)};var pollingInterval;const MAX_RETRIES=0x3;var apiClient=null,bakongQR=null,khrSDK=null,loadingStatus=!![],staticQRViw=![],bakongAccountID='',merchantName='',merchantEmail='',merchantCity='';function getSave(_0x5e04a4){const _0x1b7bae=a0_0x3167d9,_0x23c566=localStorage[_0x1b7bae(0x10e)](_0x1b7bae(0x168));if(_0x23c566){const _0x3637b6=CryptoJS['AES'][_0x1b7bae(0x161)](_0x23c566,_0x5e04a4),_0x12633f=_0x3637b6['toString'](CryptoJS['enc'][_0x1b7bae(0xef)]),_0x535477=JSON[_0x1b7bae(0x14d)](_0x12633f);return _0x535477;}else return console[_0x1b7bae(0x16c)](_0x1b7bae(0x128)),null;}function save(_0x33da2d,_0x5fcc0b,_0x8f63d5){const _0xf119bc=a0_0x3167d9,_0x29eb7b={'isChange':_0x8f63d5,'apiToken':_0x5fcc0b},_0x137f50=JSON[_0xf119bc(0x133)](_0x29eb7b),_0x4ea640=CryptoJS[_0xf119bc(0x11b)][_0xf119bc(0x101)](_0x137f50,_0x33da2d)[_0xf119bc(0x149)]();return localStorage[_0xf119bc(0x10b)]('dummpy_data',_0x4ea640),getSave(_0x33da2d);}function getSaveQR(){const _0x20e719=a0_0x3167d9,_0xd5b2a8=localStorage[_0x20e719(0x10e)](_0x20e719(0x182));if(_0xd5b2a8){const _0x3675b2=CryptoJS['AES'][_0x20e719(0x161)](_0xd5b2a8,bakongAccountID),_0x37017e=_0x3675b2[_0x20e719(0x149)](CryptoJS[_0x20e719(0x179)][_0x20e719(0xef)]),_0x170170=JSON[_0x20e719(0x14d)](_0x37017e);return _0x170170;}else return console[_0x20e719(0x16c)](_0x20e719(0x128)),null;}function saveQR(_0x442653){const _0x491c22=a0_0x3167d9,_0x31fbec={'data':_0x442653,'email':merchantEmail},_0xa24017=JSON['stringify'](_0x31fbec),_0x40256f=CryptoJS['AES']['encrypt'](_0xa24017,bakongAccountID)[_0x491c22(0x149)]();return localStorage['setItem'](_0x491c22(0x182),_0x40256f),getSaveQR();}function clearSaveQr(){const _0x5696d4=a0_0x3167d9;localStorage[_0x5696d4(0x17e)](_0x5696d4(0x182));}function a0_0xbe06(_0x5df029,_0x354d46){const _0x87cc24=a0_0x87cc();return a0_0xbe06=function(_0xbe0632,_0x33ad7e){_0xbe0632=_0xbe0632-0xec;let _0x1916d6=_0x87cc24[_0xbe0632];return _0x1916d6;},a0_0xbe06(_0x5df029,_0x354d46);}function clearSave(){const _0x17d9bb=a0_0x3167d9;localStorage[_0x17d9bb(0x17e)](_0x17d9bb(0x168));}class Controller{async[a0_0x3167d9(0x17f)](_0x47bb7f,_0x5f04cc,_0x382cc4,_0x2a7669){const _0x5cb4b0=a0_0x3167d9;apiClient=_0x47bb7f['create']({'baseURL':baseApi[_0x5cb4b0(0x175)]['replace'](/\/+$/,'')+'/'+baseApi[_0x5cb4b0(0x11d)][_0x5cb4b0(0x16b)](/^\/+/,'')}),bakongQR=_0x5f04cc,khrSDK=_0x382cc4,apiClient[_0x5cb4b0(0x146)]['response'][_0x5cb4b0(0x171)](_0x1a0637=>{return _0x1a0637;},async _0x27a68a=>{const _0x23cfc7=_0x5cb4b0;if(_0x27a68a[_0x23cfc7(0x117)]&&_0x27a68a['response']['status']===0x191){console[_0x23cfc7(0xff)](_0x23cfc7(0x17c));const _0x8a40c0=_0x27a68a[_0x23cfc7(0x14c)];!_0x8a40c0[_0x23cfc7(0x14f)]&&(_0x8a40c0[_0x23cfc7(0x14f)]=0x0);if(_0x8a40c0['_retryCount']>=MAX_RETRIES)return Promise['reject'](_0x27a68a);_0x8a40c0[_0x23cfc7(0x14f)]++;try{const _0x5c9d0e=await this[_0x23cfc7(0x10a)](merchantEmail);return _0x5c9d0e!=''?(save(bakongAccountID,_0x5c9d0e,!![]),_0x8a40c0['headers'][_0x23cfc7(0xee)]=_0x23cfc7(0xf1)+_0x5c9d0e,apiClient[_0x23cfc7(0x169)](_0x8a40c0)):Promise['reject'](_0x27a68a);}catch(_0x560704){return Promise[_0x23cfc7(0x120)](_0x560704);}}return Promise[_0x23cfc7(0x120)](_0x27a68a);});}async[a0_0x3167d9(0x109)](_0x54b4a7){const _0x5b4225=a0_0x3167d9,_0x4aa7fd=khrSDK[_0x5b4225(0x10d)],_0x4b6a08=_0x4aa7fd[_0x5b4225(0xfb)][_0x5b4225(0x14b)],_0x3adbc4=_0x54b4a7;_0x3adbc4[_0x5b4225(0xfb)]=_0x54b4a7['currency']=='KHR'?_0x4b6a08:_0x4aa7fd['currency'][_0x5b4225(0x181)];const _0x2ccaa8=new window[(_0x5b4225(0x17a))][(_0x5b4225(0x12f))](),_0x6f6495=new khrSDK['IndividualInfo'](bakongAccountID,merchantName,merchantCity,_0x3adbc4);var _0x3db2fa=null;const _0x55052d=await _0x2ccaa8['generateIndividual'](_0x6f6495);return _0x55052d[_0x5b4225(0x138)][_0x5b4225(0x10f)]==0x0&&(_0x3db2fa=_0x55052d[_0x5b4225(0x12a)]),_0x3db2fa;}async['onCheckBakongAccount'](_0x1d605e){const _0x237e03=a0_0x3167d9,_0x5302a6=pathApi[_0x237e03(0x11a)];try{var _0x36bb66=await apiClient[_0x237e03(0x124)](_0x5302a6,{'accountId':_0x1d605e},{'headers':{'Content-Type':'application/json'}});return _0x36bb66[_0x237e03(0x12a)]['errorCode']==null?{'message':_0x36bb66[_0x237e03(0x12a)][_0x237e03(0x147)],'error':_0x36bb66[_0x237e03(0x12a)][_0x237e03(0x13b)]}:{'message':_0x36bb66[_0x237e03(0x12a)][_0x237e03(0x147)],'error':_0x36bb66[_0x237e03(0x12a)][_0x237e03(0x13b)]};}catch(_0x4c92b1){console[_0x237e03(0x16c)]('Error\x20fetching\x20data:',_0x4c92b1);}}async[a0_0x3167d9(0x10a)](_0x19e420){const _0x24cfdc=a0_0x3167d9,_0xc5e7fa=pathApi[_0x24cfdc(0x116)];try{var _0x4c2ba3=await apiClient[_0x24cfdc(0x124)](_0xc5e7fa,{'email':_0x19e420});return _0x4c2ba3[_0x24cfdc(0x12a)][_0x24cfdc(0x13b)]==null?_0x4c2ba3[_0x24cfdc(0x12a)][_0x24cfdc(0x12a)][_0x24cfdc(0x15e)]:'';}catch(_0x2d88e2){return console[_0x24cfdc(0x16c)](_0x24cfdc(0x155),_0x2d88e2),'';}}async['onGnerateDeekplink'](_0x56ba88,_0x369120){const _0x54f088=a0_0x3167d9,_0x7889d6=pathApi['generatDeeplink'];try{var _0x4c3cbb=await apiClient[_0x54f088(0x124)](_0x7889d6,{'qr':_0x56ba88,'sourceInfo':_0x369120});return _0x4c3cbb['data']['errorCode']==null?{'shortLink':_0x4c3cbb[_0x54f088(0x12a)]['data'][_0x54f088(0x185)],'qr':_0x56ba88}:null;}catch(_0x71d87e){return console['error']('Error\x20fetching\x20data:',_0x71d87e),null;}}async[a0_0x3167d9(0x144)](_0x11d81f){const _0x2425a5=a0_0x3167d9,_0x151b72=pathApi['checkTransactionStatusByMd5'];try{if(!_0x11d81f)return{'message':'Missing\x20MD5.','error':-0x1};const _0x6fb94f=getSave(bakongAccountID);if(_0x6fb94f==null)return{'message':_0x2425a5(0x154),'error':-0x1};var _0x5641fa=await apiClient[_0x2425a5(0x124)](_0x151b72,{'md5':_0x11d81f},{'headers':{'Content-Type':_0x2425a5(0x156),'Authorization':'Bearer\x20'+_0x6fb94f[_0x2425a5(0xf6)]}});return _0x5641fa[_0x2425a5(0x12a)]['errorCode']==null?{'message':_0x5641fa[_0x2425a5(0x12a)][_0x2425a5(0x147)],'error':_0x5641fa[_0x2425a5(0x12a)][_0x2425a5(0x13b)]}:{'message':_0x5641fa[_0x2425a5(0x12a)][_0x2425a5(0x147)],'error':_0x5641fa[_0x2425a5(0x12a)][_0x2425a5(0x13b)]};}catch(_0x4fd8cf){console[_0x2425a5(0x16c)](_0x2425a5(0x155),_0x4fd8cf);}}}function a0_0x87cc(){const _0x5bdae8=['height','check_bakong_account','Invalid\x20token\x20format.','apiToken','img','decimal','checkTransactionStatus','https://shipglow.store/callback','currency','sender_amount','textContent','clearSaveQr','log','loader_fixed','encrypt','text-align:center;\x20position:\x20absolute;\x20height:\x20100%;\x20background-color:\x20rgba(0,\x200,\x200,\x200.12);\x20right:\x200;\x20bottom:\x200;\x20top:\x200;\x20left:\x200;','appendChild','47248VPXAkz','qrcode','innerHeight','onCheckBakongAccount','#000000','getQr','onRenewToken','setItem','style','khqrData','getItem','code','loadingParent','<span\x20id=\x22sender_currency\x22\x20style=\x22font-family:\x20Ronnia;position:\x20relative;top:\x20-6px;font-size:\x2014px;\x20color:\x20#3d3d3d;\x20margin-left:\x2010px;\x22></span>','createElement','exp','centerView','CorrectLevel','renewToken','response','parent','onIntervalCheck','checkBakongAccount','AES','11021750ywsvAW','apiVersion','\x0a\x20\x20\x20\x20\x20\x20\x20\x20.view\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#ffffff;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x200px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20transition:\x20all\x200.3s\x20ease;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20/*\x20HTML:\x20<div\x20class=\x22loader\x22></div>\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20.loader_fixed\x20{\x0a\x20\x20\x20\x20width:\x2050px;\x0a\x20\x20\x20\x20aspect-ratio:\x201;\x0a\x20\x20\x20\x20display:\x20grid;\x0a\x20\x20\x20\x20top:\x2050%;\x0a\x20\x20\x20\x20left:\x2050%;\x0a\x20\x20\x20\x20transform:\x20translate(-50%,\x20-50%);\x0a\x20\x20\x20\x20width:\x2050px;\x0a\x20\x20\x20\x20height:\x2050px0px;\x0a\x20\x20\x20\x20position:\x20relative;\x0a\x20\x20\x20\x20}\x0a.loader_fixed::before,\x0a.loader_fixed::after\x20{\x20\x20\x20\x20\x0a\x20\x20content:\x22\x22;\x0a\x20\x20grid-area:\x201/1;\x0a\x20\x20--c:no-repeat\x20radial-gradient(farthest-side,#25b09b\x2092%,#0000);\x0a\x20\x20background:\x20\x0a\x20\x20\x20\x20var(--c)\x2050%\x20\x200,\x20\x0a\x20\x20\x20\x20var(--c)\x2050%\x20\x20100%,\x20\x0a\x20\x20\x20\x20var(--c)\x20100%\x2050%,\x20\x0a\x20\x20\x20\x20var(--c)\x200\x20\x20\x20\x2050%;\x0a\x20\x20background-size:\x2012px\x2012px;\x0a\x20\x20animation:\x20l12\x201s\x20infinite;\x0a}\x0a.loader_fixed::before\x20{\x0a\x20\x20margin:\x204px;\x0a\x20\x20filter:\x20hue-rotate(45deg);\x0a\x20\x20background-size:\x208px\x208px;\x0a\x20\x20animation-timing-function:\x20linear\x0a}\x0a\x0a@keyframes\x20l12\x20{\x20\x0a\x20\x20100%{transform:\x20rotate(.5turn)}\x0a}\x0a\x20\x20\x20\x20.loader\x20{\x0a\x20\x20\x20\x20width:\x2050px;\x0a\x20\x20\x20\x20aspect-ratio:\x201;\x0a\x20\x20\x20\x20display:\x20grid;\x0a\x20\x20\x20\x20top:\x2050%;\x0a\x20\x20\x20\x20left:\x2050%;\x0a\x20\x20\x20\x20transform:\x20translate(-50%,\x20-50%);\x0a\x20\x20\x20\x20width:\x2050px;\x0a\x20\x20\x20\x20height:\x2050px0px;\x0a\x20\x20\x20\x20position:\x20fixed;\x0a\x20\x20\x20\x20}\x0a.loader::before,\x0a.loader::after\x20{\x20\x20\x20\x20\x0a\x20\x20content:\x22\x22;\x0a\x20\x20grid-area:\x201/1;\x0a\x20\x20--c:no-repeat\x20radial-gradient(farthest-side,#25b09b\x2092%,#0000);\x0a\x20\x20background:\x20\x0a\x20\x20\x20\x20var(--c)\x2050%\x20\x200,\x20\x0a\x20\x20\x20\x20var(--c)\x2050%\x20\x20100%,\x20\x0a\x20\x20\x20\x20var(--c)\x20100%\x2050%,\x20\x0a\x20\x20\x20\x20var(--c)\x200\x20\x20\x20\x2050%;\x0a\x20\x20background-size:\x2012px\x2012px;\x0a\x20\x20animation:\x20l12\x201s\x20infinite;\x0a}\x0a.loader::before\x20{\x0a\x20\x20margin:\x204px;\x0a\x20\x20filter:\x20hue-rotate(45deg);\x0a\x20\x20background-size:\x208px\x208px;\x0a\x20\x20animation-timing-function:\x20linear\x0a}\x0a\x0a@keyframes\x20l12\x20{\x20\x0a\x20\x20100%{transform:\x20rotate(.5turn)}\x0a}\x0a\x20\x20\x20\x20\x20\x20','KHQR','reject','32298uirljo','innerWidth','qr_main','post','head','image/khqr-bg.png','59620NYFZxH','No\x20data\x20found\x20in\x20localStorage.','merchantName','data','getElementById','visibility','transactionAmount','ApiKhqrModule','BakongKHQR','38ObeEXX','left','1589ODclRW','stringify','KHR','hidden','.view','cssText','status','sender_currency','setAxios','errorCode','querySelector','bgQR','4079438yQoYGt','body','check_transaction_by_md5','isJwtTokenExpired','bakongObject','SourceInfo','onCheckTransactionStatus','add','interceptors','responseMessage','onReady','toString','en-US','khr','config','parse','image/khqr.png','_retryCount','height:\x20260px;\x20left:\x2048px;\x20position:\x20absolute;\x20width:\x20260px;\x20top:\x20199px;','view','viewQRInit','format','Missing\x20Token.','Error\x20fetching\x20data:','application/json','md5','isChange','24585JEbXDW','onSHowQr','onGnerateDeekplink','createAndCenterView','classList','token','eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJkYXRhIjp7ImlkIjoiYWZhNzI1M2ZkOGJmNGE4ZiJ9LCJpYXQiOjE3MzcyOTc5NzQsImV4cCI6MTc0NTA3Mzk3NH0.ccohHBBny-UaXtNiUmKVvSv8S0QHGPl9aDydRH9dC9E','getQRView','decrypt','loadView','offsetWidth','onload','now','564HPUqXy','sender_name','dummpy_data','request','transactionCurrency','replace','error','div','1006056mmYXCH','newView','src','use','split','autoCenter','innerHTML','apiUrl','#ffffff','524RPcRwI','onresize','enc','khrSDK','currencySymbol','401\x20error\x20detected,\x20attempting\x20token\x20refresh...','ShipGlow','removeItem','onSetAxios','loaderFixedLoading','usa','dummpy_qr_data','<div\x20id=\x22qr_main\x22\x20style=\x22visibility:\x20hidden\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22views\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22display:\x20flex;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20justify-content:\x20center;\x20align-items:\x20center;\x20text-align:\x20center;\x20height:\x20500px;\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22qrcode\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22\x20position:\x20relative;\x20height:\x20260px;\x20z-index:\x2010;\x20\x20text-align:\x20center;\x20\x20width:\x20260px;\x20top:\x2079px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22image/khqr-bg.png\x22\x20height=\x22500\x22\x20style=\x22width:\x20auto;\x20position:\x20absolute;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sender_name\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22font-family:\x20Ronnia;text-align:\x20left;\x20width:\x20260px;\x20\x20padding:\x200px;\x20height:\x20339px;\x20position:\x20absolute;\x20color:\x20rgb(0,\x200,\x200);\x20\x20font-size:\x2020px;\x20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Kuch\x20Darith\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22loader_fixed\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22position:\x20absolute;\x20background-color:\x20rgb(231,\x20231,\x20231);\x20width:\x20323px;\x20z-index:\x20100;\x20height:\x20466px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader_fixed\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22text-align:\x20left;\x20width:\x20260px;\x20padding:\x200px;\x20height:\x20263px;\x20position:\x20absolute;\x20\x20color:\x20rgb(0,\x200,\x200);\x20font-size:\x2036px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22sender_amount\x22\x20style=\x22font-family:\x20Ronnia;\x22>0</span>\x20<span\x20id=\x22sender_currency\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22font-family:\x20Ronnia;position:\x20relative;\x20top:\x20-6px;\x20font-size:\x2018px;\x20color:\x20#3d3d3d;\x20margin-left:\x200px;\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','onPaymentStatus','shortLink','controller','decode','Authorization','Utf8','visible','Bearer\x20','offsetHeight'];a0_0x87cc=function(){return _0x5bdae8;};return a0_0x87cc();}class View{constructor(){window['parent']=this;}['addCSS'](){const _0x34dc2d=a0_0x3167d9,_0x25cf5d=document['createElement'](_0x34dc2d(0x10c));_0x25cf5d[_0x34dc2d(0x174)]=_0x34dc2d(0x11e),document[_0x34dc2d(0x125)][_0x34dc2d(0x103)](_0x25cf5d);}[a0_0x3167d9(0x15c)](){const _0x371d1f=a0_0x3167d9;this['loadingParent']=document[_0x371d1f(0x112)](_0x371d1f(0x16d)),this['loadingParent'][_0x371d1f(0x10c)][_0x371d1f(0x137)]=_0x371d1f(0x102),this[_0x371d1f(0x13d)]=document['createElement'](_0x371d1f(0x16d)),this['bgQR'][_0x371d1f(0x10c)][_0x371d1f(0x137)]='text-align:center;\x20position:\x20absolute;\x20height:\x20100%;\x20background-color:\x20rgba(0,\x200,\x200,\x200.12);\x20right:\x200;\x20bottom:\x200;\x20top:\x200;\x20left:\x200;',this[_0x371d1f(0x16f)]=document[_0x371d1f(0x112)](_0x371d1f(0x16d)),this['newView'][_0x371d1f(0x10c)][_0x371d1f(0x12c)]=_0x371d1f(0x135),this[_0x371d1f(0x16f)][_0x371d1f(0x15d)][_0x371d1f(0x145)]('view');const _0x219249=document[_0x371d1f(0x112)]('img');_0x219249[_0x371d1f(0x170)]=_0x371d1f(0x126),_0x219249[_0x371d1f(0xf3)]=0x1f4;const _0x28c212=document[_0x371d1f(0x112)](_0x371d1f(0x16d));_0x28c212['id']=_0x371d1f(0x167),_0x28c212[_0x371d1f(0x10c)]['cssText']='font-family:\x20Ronnia;position:\x20absolute;\x20margin-top:\x2093px;\x20color:\x20rgb(0,\x200,\x200);\x20margin-left:\x2047px;\x20font-size:\x2018px;',_0x28c212[_0x371d1f(0xfd)]='',this[_0x371d1f(0x16f)]['appendChild'](_0x28c212);const _0x17237a=document['createElement'](_0x371d1f(0x16d));_0x17237a[_0x371d1f(0x10c)]['cssText']='position:\x20absolute;\x20margin-top:\x20119px;\x20color:\x20rgb(0,\x200,\x200);\x20font-family:\x20Ronnia;margin-left:\x2044px;\x20font-size:\x2035px;',_0x17237a['innerHTML']='<span\x20id=\x22sender_amount\x22></span>'+_0x371d1f(0x111),this['newView'][_0x371d1f(0x103)](_0x17237a);const _0x26521b=document[_0x371d1f(0x112)]('div');_0x26521b['id']=_0x371d1f(0x105),_0x26521b[_0x371d1f(0xf3)]=0x104,_0x26521b[_0x371d1f(0x10c)][_0x371d1f(0x137)]=_0x371d1f(0x150);const _0x3406bc=document[_0x371d1f(0x112)](_0x371d1f(0xf7));_0x3406bc[_0x371d1f(0x170)]=_0x371d1f(0x14e),_0x3406bc[_0x371d1f(0x10c)]['cssText']=_0x371d1f(0x150),this[_0x371d1f(0x16f)][_0x371d1f(0x103)](_0x26521b),this[_0x371d1f(0x16f)]['appendChild'](_0x219249);const _0x1273aa=document['createElement']('div');_0x1273aa['classList'][_0x371d1f(0x145)]('loader'),this[_0x371d1f(0x110)]['appendChild'](_0x1273aa),document[_0x371d1f(0x13f)]!=null&&!staticQRViw&&(document[_0x371d1f(0x13f)]['appendChild'](this[_0x371d1f(0x13d)]),document[_0x371d1f(0x13f)][_0x371d1f(0x103)](this[_0x371d1f(0x16f)]),document[_0x371d1f(0x13f)][_0x371d1f(0x103)](this[_0x371d1f(0x110)]),this['bgQR']['style'][_0x371d1f(0x12c)]=_0x371d1f(0x135),this[_0x371d1f(0x16f)]['style'][_0x371d1f(0x12c)]='hidden',this[_0x371d1f(0x110)][_0x371d1f(0x10c)][_0x371d1f(0x12c)]=_0x371d1f(0x135),this['centerView'](this[_0x371d1f(0x16f)]));}[a0_0x3167d9(0x160)](){const _0xb0a357=a0_0x3167d9,_0x12b33d=_0xb0a357(0x183);return _0x12b33d;}['onStepLoading'](_0x4eee84){const _0x5a5099=a0_0x3167d9;loadingStatus=_0x4eee84,_0x4eee84?(this[_0x5a5099(0x13d)]['style'][_0x5a5099(0x12c)]=_0x5a5099(0x135),this['newView'][_0x5a5099(0x10c)]['visibility']=_0x5a5099(0x135),this['loadingParent'][_0x5a5099(0x10c)][_0x5a5099(0x12c)]=_0x5a5099(0xf0)):(this[_0x5a5099(0x13d)]['style'][_0x5a5099(0x12c)]=_0x5a5099(0xf0),this[_0x5a5099(0x16f)][_0x5a5099(0x10c)][_0x5a5099(0x12c)]=_0x5a5099(0xf0),this[_0x5a5099(0x110)]['style'][_0x5a5099(0x12c)]=_0x5a5099(0x135)),this[_0x5a5099(0x173)]();}[a0_0x3167d9(0x114)](_0x379d87){const _0x1f59e1=a0_0x3167d9,_0x4da89a=_0x379d87[_0x1f59e1(0x163)],_0x1f0967=_0x379d87[_0x1f59e1(0xf2)],_0x226b63=window[_0x1f59e1(0x122)],_0x599889=window[_0x1f59e1(0x106)],_0x44a5ac=(_0x226b63-_0x4da89a)/0x2,_0xfdfa5f=(_0x599889-_0x1f0967)/0x2;_0x379d87[_0x1f59e1(0x10c)][_0x1f59e1(0x131)]=_0x44a5ac+'px',_0x379d87[_0x1f59e1(0x10c)]['top']=_0xfdfa5f+'px';}[a0_0x3167d9(0x173)](){const _0x480dee=a0_0x3167d9,_0x34453e=document[_0x480dee(0x13c)]('.view');_0x34453e&&(window[_0x480dee(0x118)][_0x480dee(0x114)](_0x34453e),loadingStatus?_0x34453e[_0x480dee(0x10c)][_0x480dee(0x12c)]=_0x480dee(0x135):_0x34453e[_0x480dee(0x10c)][_0x480dee(0x12c)]=_0x480dee(0xf0));}[a0_0x3167d9(0x162)](){const _0xe904bb=a0_0x3167d9;window[_0xe904bb(0x164)]=function(){const _0xfa3e53=_0xe904bb,_0x2c8731=document[_0xfa3e53(0x13c)](_0xfa3e53(0x136));_0x2c8731&&(window[_0xfa3e53(0x118)]['centerView'](_0x2c8731),loadingStatus?_0x2c8731['style'][_0xfa3e53(0x12c)]=_0xfa3e53(0x135):_0x2c8731[_0xfa3e53(0x10c)]['visibility']=_0xfa3e53(0xf0));},window[_0xe904bb(0x178)]=function(){const _0x1c1a31=_0xe904bb,_0x422afb=document['querySelector'](_0x1c1a31(0x136));_0x422afb&&(window[_0x1c1a31(0x118)][_0x1c1a31(0x114)](_0x422afb),loadingStatus?_0x422afb[_0x1c1a31(0x10c)][_0x1c1a31(0x12c)]=_0x1c1a31(0x135):_0x422afb[_0x1c1a31(0x10c)][_0x1c1a31(0x12c)]=_0x1c1a31(0xf0));};}}class ApiKhqrModule{static [a0_0x3167d9(0x11f)]=null;constructor(){const _0x408c86=a0_0x3167d9;this[_0x408c86(0xec)]=new Controller(),this[_0x408c86(0x151)]=new View(),this[_0x408c86(0x148)]();}[a0_0x3167d9(0x152)](){const _0x20801e=a0_0x3167d9;this[_0x20801e(0x15a)](),this[_0x20801e(0x151)][_0x20801e(0x162)]();}static['getKHQR'](){const _0x11e177=a0_0x3167d9;if(ApiKhqrModule[_0x11e177(0x11f)]===null)return ApiKhqrModule[_0x11e177(0x11f)]=new ApiKhqrModule();return ApiKhqrModule[_0x11e177(0x11f)];}async[a0_0x3167d9(0x142)](){return{'BQR':bakongQR,'SDK':khrSDK};}async[a0_0x3167d9(0x13a)](_0x1d5692,_0x5b7395,_0xf907d7){const _0x2c5ff5=a0_0x3167d9;await this[_0x2c5ff5(0xec)][_0x2c5ff5(0x17f)](_0x1d5692,_0x5b7395,_0xf907d7);}[a0_0x3167d9(0x160)](){const _0x3ba175=a0_0x3167d9;return this[_0x3ba175(0x151)]['getQRView']();}['onSHowQr'](){const _0x568d32=a0_0x3167d9;this[_0x568d32(0x151)]['addCSS'](),this[_0x568d32(0x151)]['createAndCenterView']();}async['generateDeeplink'](_0x3f1eb0){const _0x210d2d=a0_0x3167d9;this[_0x210d2d(0x151)]['onStepLoading'](!![]);const _0xe9e85=await this[_0x210d2d(0x11a)](bakongAccountID,_0x588408=>{const _0x1aacac=_0x210d2d;if(_0x588408[_0x1aacac(0x16c)]==null){const _0x46e21d=getSave(bakongAccountID);console[_0x1aacac(0xff)](_0x46e21d),_0x46e21d!=null?_0x46e21d[_0x1aacac(0x158)]==![]&&save(bakongAccountID,apiToken,![]):save(bakongAccountID,apiToken,![]);}});if(_0xe9e85[_0x210d2d(0x16c)]!=null)return;const _0x1461ea=await this[_0x210d2d(0xec)]['getQr'](_0x3f1eb0);if(_0x1461ea!=null){const _0x420725=new khrSDK[(_0x210d2d(0x143))]('https://bakong.nbc.gov.kh/images/logo.svg',_0x210d2d(0x17d),_0x210d2d(0xfa));return saveQR(_0x1461ea),setTimeout(()=>{const _0x5d59ca=_0x210d2d;this[_0x5d59ca(0x119)](),this[_0x5d59ca(0x151)]['onStepLoading'](![]);},0x3e8),this[_0x210d2d(0xec)][_0x210d2d(0x15b)](_0x1461ea['qr'],_0x420725);}else{}}async[a0_0x3167d9(0xf9)](_0x588410){const _0x1316ed=a0_0x3167d9,_0x23d0c5=getSaveQR();if(_0x23d0c5!=null){const _0x1980e0=await this[_0x1316ed(0xec)][_0x1316ed(0x144)](_0x23d0c5['data'][_0x1316ed(0x157)]);if(_0x1980e0[_0x1316ed(0x16c)]==null){}_0x588410(_0x1980e0);}}['onIntervalCheck'](){pollingInterval=null,pollingInterval=setInterval(async()=>{const _0x4776b8=a0_0xbe06;await this[_0x4776b8(0xf9)](_0x3e37fa=>{const _0x18a690=_0x4776b8;_0x3e37fa!=null&&_0x3e37fa['error']==null&&(clearInterval(pollingInterval),this[_0x18a690(0x184)](_0x3e37fa),this[_0x18a690(0xfe)]());});},0x1388);}[a0_0x3167d9(0x184)](_0x64d362){return _0x64d362;}[a0_0x3167d9(0xed)](_0x3e93a9){const _0x1ffec8=a0_0x3167d9,_0x42cf8a=khrSDK[_0x1ffec8(0x12f)][_0x1ffec8(0xed)](_0x3e93a9);if(_0x42cf8a['status'][_0x1ffec8(0x13b)]==null){const _0x5a572a=_0x42cf8a[_0x1ffec8(0x12a)],_0x2ab866=new Intl['NumberFormat'](parseInt(_0x5a572a[_0x1ffec8(0x16a)])==0x74?'km-KH':_0x1ffec8(0x14a),{'style':_0x1ffec8(0xf8),'minimumFractionDigits':0x2,'maximumFractionDigits':0x2,'currency':parseInt(_0x5a572a[_0x1ffec8(0x16a)])==0x74?_0x1ffec8(0x134):'USD'})[_0x1ffec8(0x153)](_0x5a572a[_0x1ffec8(0x12d)]);return{'merchantName':_0x5a572a['merchantName'],'transactionAmount':_0x2ab866,'transactionCurrency':_0x5a572a[_0x1ffec8(0x16a)],'currencySymbol':parseInt(_0x5a572a['transactionCurrency'])==0x74?_0x1ffec8(0x134):'USD'};}return null;}async['checkBakongAccount'](_0x233f91,_0x360c01){const _0x3a796c=a0_0x3167d9,_0x5c9ef2=await this[_0x3a796c(0xec)][_0x3a796c(0x107)](_0x233f91);return _0x360c01(_0x5c9ef2),_0x5c9ef2;}['config'](_0x4b0c38,_0x40606f,_0xca40b4,_0x1f3adc,_0x35df70,_0x4dde4c){const _0x5bdf3a=a0_0x3167d9;staticQRViw=_0x4dde4c,bakongAccountID=_0x4b0c38,merchantName=_0x40606f,merchantCity=_0xca40b4,merchantEmail=_0x35df70;const _0x1fa585=getSave(bakongAccountID);!_0x1fa585&&((async()=>{const _0x50f40e=a0_0xbe06;await this[_0x50f40e(0x11a)](bakongAccountID,_0x32a8b1=>{const _0x460568=_0x50f40e;_0x32a8b1[_0x460568(0x16c)]==null&&((async()=>{const _0x43e632=_0x460568,_0x36de0b=await this[_0x43e632(0xec)][_0x43e632(0x10a)](merchantEmail);if(_0x36de0b!=''){var _0x26cfd2=save(bakongAccountID,_0x36de0b,!![]);console[_0x43e632(0xff)](_0x26cfd2);}})());});})()),this[_0x5bdf3a(0x152)]();}[a0_0x3167d9(0x180)](_0x1b8f7c){const _0x5cc223=a0_0x3167d9;_0x1b8f7c?(document['getElementById'](_0x5cc223(0x100))['style'][_0x5cc223(0x12c)]=_0x5cc223(0xf0),document[_0x5cc223(0x12b)](_0x5cc223(0x123))[_0x5cc223(0x10c)][_0x5cc223(0x12c)]=_0x5cc223(0xf0)):document[_0x5cc223(0x12b)]('loader_fixed')[_0x5cc223(0x10c)]['visibility']=_0x5cc223(0x135);}async['startGernerateKhqr'](_0x21a5a8){const _0x4548eb=a0_0x3167d9;staticQRViw&&this[_0x4548eb(0x180)](!![]);const _0x485186=await this['generateDeeplink'](_0x21a5a8),_0x3f66ab=this['decode'](_0x485186['qr']);document[_0x4548eb(0x12b)](_0x4548eb(0x167))[_0x4548eb(0xfd)]=_0x3f66ab[_0x4548eb(0x129)],document['getElementById'](_0x4548eb(0xfc))[_0x4548eb(0xfd)]=_0x3f66ab[_0x4548eb(0x12d)],document['getElementById'](_0x4548eb(0x139))[_0x4548eb(0xfd)]=_0x3f66ab[_0x4548eb(0x17b)],document['getElementById']('qrcode')[_0x4548eb(0x174)]='',new QRCode(document[_0x4548eb(0x12b)]('qrcode'),{'text':_0x485186['qr'],'width':0x104,'height':0x104,'border':0x1e,'colorDark':_0x4548eb(0x108),'colorLight':_0x4548eb(0x176),'type':'terminal','correctLevel':QRCode[_0x4548eb(0x115)]['H']}),staticQRViw&&this[_0x4548eb(0x180)](![]);}[a0_0x3167d9(0x141)](_0x2175f0){const _0x2befcb=a0_0x3167d9,_0x190496=_0x2175f0[_0x2befcb(0x172)]('.');if(_0x190496['length']!==0x3)return _0x2befcb(0xf5);const _0x2e3ac0=JSON[_0x2befcb(0x14d)](atob(_0x190496[0x1]));if(!_0x2e3ac0||!_0x2e3ac0[_0x2befcb(0x113)])return'Invalid\x20payload\x20or\x20missing\x20expiration\x20field.';const _0x50bbfd=Math['floor'](Date[_0x2befcb(0x165)]()/0x3e8);return console[_0x2befcb(0xff)](_0x2e3ac0[_0x2befcb(0x113)]),_0x2e3ac0[_0x2befcb(0x113)]<_0x50bbfd?!![]:![];}['onReady'](){const _0x490894=a0_0x3167d9;var _0x571302=_0x490894(0x15f),_0x23c9ef=this['isJwtTokenExpired'](_0x571302);console[_0x490894(0xff)](_0x23c9ef);}}window[a0_0x3167d9(0x12e)]=ApiKhqrModule;